## ì—°ê´€ê´€ê³„ ë§¤í•‘ì‹œ ê³ ë ¤ì‚¬í•­ 3ê°€ì§€
> **ë‹¤ì¤‘ì„±**

- ë‹¤ëŒ€ì¼: @ManyToOne
- ì¼ëŒ€ë‹¤: @OneToMany
- ì¼ëŒ€ì¼: @OneToOne
- ë‹¤ëŒ€ë‹¤: @ManyToMany

ğŸ’¡ ë‹¤ëŒ€ë‹¤ëŠ” ì‹¤ë¬´ì—ì„œ ê±°ì˜ ì˜ ì“°ì§€ ì•ŠìŒ!

> **ë‹¨ë°©í–¥, ì–‘ë°©í–¥**

- í…Œì´ë¸”
    - ì™¸ë˜ í‚¤ í•˜ë‚˜ë¡œ ì–‘ìª½ ì¡°ì¸ ê°€ëŠ¥
    - ì‚¬ì‹¤ ë°©í–¥ì´ë¼ëŠ” ê°œë…ì´ ì—†ìŒ
- ê°ì²´
    - ì°¸ì¡°ìš© í•„ë“œê°€ ìˆëŠ” ìª½ìœ¼ë¡œë§Œ ì°¸ì¡° ê°€ëŠ¥
    - í•œìª½ë§Œ ì°¸ì¡°ë˜ë©´ ë‹¨ë°©í–¥
    - ì–‘ìª½ì´ ì„œë¡œ ì°¸ì¡°í•˜ë©´ ì–‘ë°©í–¥
        - ì—¬ê¸°ì„œ ë§í•˜ëŠ” ì–‘ë°©í–¥ë„ ë‹¨ë°©í–¥ì´ 2ê°œê°€ ìˆëŠ” ê²ƒ

> **ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸**

- í…Œì´ë¸”ì€ **ì™¸ë˜ í‚¤ í•˜ë‚˜**ë¡œ ë‘ í…Œì´ë¸”ì´ ì—°ê´€ê´€ê³„ë¥¼ ë§ºìŒ
- ê°ì²´ ì–‘ë°©í–¥ ê´€ê³„ëŠ” A â†’ B, B â†’ Aì²˜ëŸ¼ **ì°¸ì¡°ê°€ 2êµ°ë°**
- ê°ì²´ ì–‘ë°©í–¥ ê´€ê³„ëŠ” ì°¸ì¡°ê°€ 2êµ°ë° ìˆìŒ.  ë‘˜ ì¤‘ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ë¥¼ ê´€ë¦¬í•  ê³³ì„ ì§€ì •í•´ì•¼ í•¨
- ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸: ì™¸ë˜ í‚¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ì°¸ì¡°
- ì£¼ì¸ì˜ ë°˜ëŒ€í¸: ì™¸ë˜ í‚¤ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ, ë‹¨ìˆœ ì¡°íšŒë§Œ ê°€ëŠ¥

## ë‹¤ëŒ€ì¼ [N:1]

> ë‹¤ëŒ€ì¼ ë‹¨ë°©í–¥

<img src="https://github.com/iieunji023/jpa-with-spring-boot-basic/blob/main/images/ë‹¤ëŒ€ì¼1.png" width="350">

- Member ê°ì²´ì—ì„œëŠ” Team ê°ì²´ë¥¼ ì°¸ì¡°
- ê·¸ëŸ¬ë‚˜ Team ê°ì²´ì—ì„œëŠ” Member ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” í•„ë“œ X
- ë”°ë¼ì„œ í•œìª½ì—ë§Œ ìˆê¸° ë•Œë¬¸ì— ë‹¨ë°©í–¥!
- ì •ë¦¬
  - ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì—°ê´€ê´€ê³„
  - ë‹¤ëŒ€ì¼ì˜ ë°˜ëŒ€ëŠ” ì¼ëŒ€ë‹¤

> ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥

<img src="https://github.com/iieunji023/jpa-with-spring-boot-basic/blob/main/images/ë‹¤ëŒ€ì¼2.png" width="350">

- Member ê°ì²´ì—ì„œë„ Team ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê³ ,
- Team ê°ì²´ì—ì„œë„ Member ê°ì²´ë¥¼ ì°¸ì¡°
- ë”°ë¼ì„œ ì–‘ìª½ ëª¨ë‘ ì°¸ì¡°í•˜ë¯€ë¡œ ì–‘ë°©í–¥ì„!
- í…Œì´ë¸”ê³¼ ë‹¬ë¦¬ ê°ì²´ì—ì„œ **ì–‘ë°©í–¥ì€ ë‹¨ë°©í–¥ì´ 2ê°œ**ë¼ëŠ” ì˜ë¯¸!

<details>
      <summary>ì˜ˆì‹œ ì½”ë“œ</summary>

- Member.java

    ```
    @ManyToOne // Memberì™€ Team ê°ì²´ì˜ ê´€ê³„ë¥¼ JPAì—ê²Œ ì•Œë ¤ì£¼ê¸°, 1ê°œì˜ íŒ€ì— ì—¬ëŸ¬ ë©¤ë²„ê°€ ìˆìœ¼ë‹ˆê¹Œ íŒ€ì´ 1, ë©¤ë°”ê°€ N
    @JoinColumn(name="TEAM_ID") // í…Œì´ë¸” ì—°ê´€ê´€ê³„ì˜ FKì™€ ì—°ê²°ì‹œì¼œì£¼ê¸°
    rivate Team team;
    ```

- Team.java

    ```
     @OneToMany(mappedBy = "team") // Member ì—”í‹°í‹°ì˜ teamê³¼ ì—°ê²°ë˜ì–´ ìˆë‹¤ëŠ” ì˜ë¯¸ (ì—¬ê¸°ì„œ teamì€ ë³€ìˆ˜ëª…)
    rivate List<Member> members = new ArrayList<Member>();
    ```

</details>

- ì •ë¦¬
  - ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ìª½ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸
  - ì–‘ìª½ì„ ì„œë¡œ ì°¸ì¡°í•˜ë„ë¡ ê°œë°œ

<br>

## ì¼ëŒ€ë‹¤ [1:N]

ğŸ’¡ ì´ ëª¨ë¸ì„ ê¶Œì¥í•˜ì§„ ì•ŠìŒ(ì‹¤ë¬´ì—ì„œ ì‚¬ìš© ì˜ ì•ˆí•¨)

> ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥

<img src="https://github.com/iieunji023/jpa-with-spring-boot-basic/blob/main/images/ì¼ëŒ€ë‹¤.png" width="350">

- ì›ë˜ ê´€ë¡€ìƒ ë‹¤(N)ìª½ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ë˜ëŠ”ë°, ì´ ê²½ìš°ëŠ” ì¼(1)ìª½ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ë˜ëŠ” ê²ƒì´ë‹¤
<details>
      <summary>ì˜ˆì‹œ ì½”ë“œ</summary>

- Member.java

    ```
    @Entity
    public class Member {

    @Id @GeneratedValue
    @Column(name="MEMBER_ID")
    private Long id;

    @Column(name = "USERNAME")
    private String username;
    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }
    }

    ```

- Team.java

    ```
    @Entity
    public class Team {
    @Id
    @GeneratedValue
    @Column(name="TEAM_ID")
    private Long id;
  
    private String name;
  
    @OneToMany
    @JoinColumn(name="TEAM_ID")
    private List<Member> members = new ArrayList<Member>();
  
    public Long getId() {
    return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public List<Member> getMembers() {
        return members;
    }

    public void setMembers(List<Member> members) {
        this.members = members;
    }
    }

    ```

- JpaMain.java

  ```
  Member member = new Member();
  member.setUsername("member1");
  em.persist(member);
  
  Team team = new Team();
  team.setName("teamA");
  
  team.getMembers().add(member);
  em.persist(team);
  
  tx.commit();
  ```

  - `team.getMembers().add(member);`
    - Team ì—”í‹°í‹°ë¥¼ ì €ì¥í•˜ëŠ” ë¶€ë¶„
    - Member í…Œì´ë¸”ì„ ì—…ë°ì´íŠ¸í•´ì•¼í•¨

</details>

- ì •ë¦¬
  - ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ì€ ì¼ëŒ€ë‹¤(1:N)ì—ì„œ **ì¼(1)ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸**
  - í…Œì´ë¸” ì¼ëŒ€ë‹¤ ê´€ê³„ëŠ” í•­ìƒ **ë‹¤(N)ìª½ì— ì™¸ë˜ í‚¤ê°€ ìˆìŒ**
  - ê°ì²´ì™€ í…Œì´ë¸”ì˜ ì°¨ì´ ë•Œë¬¸ì— ë°˜ëŒ€í¸ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ë¥¼ ê´€ë¦¬í•˜ëŠ” íŠ¹ì´í•œ êµ¬ì¡°
  - @JoinColumnì„ ê¼­ ì‚¬ìš©í•´ì•¼ í•¨.
    - ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì¡°ì¸ í…Œì´ë¸” ë°©ì‹ì„ ì‚¬ìš©í•¨
      (ì¤‘ê°„ì— í…Œì´ë¸”ì´ í•˜ë‚˜ ì¶”ê°€ëœë‹¤)
  - ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ì˜ ë‹´ì 
    - ì—”í‹°í‹°ê°€ ê´€ë¦¬í•˜ëŠ” ì™¸ë˜ í‚¤ê°€ ë‹¤ë¥¸ í…Œì´ë¸”ì— ìˆìŒ
      - ì˜ˆì œ ê°™ì€ ê²½ìš°ì—ëŠ” Memberí…Œì´ë¸”ì— ì™¸ë˜ í‚¤ê°€ ìˆì§€ë§Œ, Team ì—”í‹°í‹°ì—ì„œ ê´€ë¦¬í•˜ëŠ” ê²ƒ
      - ì—°ê´€ê´€ê³„ ê´€ë¦¬ë¥¼ ìœ„í•´ ì¶”ê°€ë¡œ UPDATE SQL ì‹¤í–‰
        - Member INSERT, Team INSERTë¥¼ í•˜ê³  Teamì—ì„œ Member í…Œì´ë¸”ì˜ Team_idë¥¼ ì—…ë°ì´íŠ¸ í•´ì¤€ë‹¤ë¼ê³  ì´í•´.. (ì•„ë‹ì§€ë„ ğŸ˜‚)
  - ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ë§¤í•‘ë³´ë‹¤ëŠ” **ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥ ë§¤í•‘ì„ ì‚¬ìš©**í•˜ì

> ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥

<img src="https://github.com/iieunji023/jpa-with-spring-boot-basic/blob/main/images/ì¼ëŒ€ë‹¤2.png" width="350">

<details>
      <summary>ì˜ˆì‹œ ì½”ë“œ</summary>

- Member.java
  ```
    @ManyToOne  // ì´ë ‡ê²Œ í•˜ë©´ Team ì—”í‹°í‹°ì˜ members í•„ë“œì™€ Member ì—”í‹°í‹°ì˜ team í•„ë“œ ëª¨ë‘ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ìœ¼ë¡œ ì¸ì‹ => í°ì¼ë‚¨~!!
    @JoinColumn(name="TEAM_ID", insertable = false, updatable = false)      // ì½ê¸° ì „ìš©ìœ¼ë¡œ ë§Œë“¤ì–´ë²„ë¦¼(INSERT, UPDATEë¥¼ ì•ˆí•¨)
    private Team team;
  ```

  - Member ì—”í‹°í‹°ì— team ê°ì²´ í•„ë“œ ì¶”ê°€
- `@ManyToOne`ë§Œ í•˜ê²Œ ë˜ë©´ Team ì—”í‹°í‹°ì—ì„œë„ `@OneTomany`ë¡œ ì—°ê´€ê´€ê³„ë¥¼ ì§€ì •í•´ì£¼ê³  ìˆë‹¤.
  - âš ï¸ ë¬¸ì œì 
    - JPAê°€ Member, Team ì—”í‹°í‹° ëª¨ë‘ ì—°ê´€ê´€ê³„ ì£¼ì¸ìœ¼ë¡œ ì¸ì‹
    - ë”°ë¼ì„œ, `@JoinColumn(insertable = false, updatable = false)` ì„ í•´ì„œ ì½ê¸° ì „ìš© í•„ë“œë¡œ ë§Œë“¤ì–´ ì¤˜ì•¼ ë¬¸ì œê°€ ìƒê¸°ì§€ ì•ŠëŠ”ë‹¤!

</details>

- ì •ë¦¬
  - ì´ëŸ° ë§¤í•‘ì€ ê³µì‹ì ìœ¼ë¡œ ì¡´ì¬X
  - `@JoinColumn(insertable=false, updatable=false)`
  - **ì½ê¸° ì „ìš© í•„ë“œ**ë¥¼ ì‚¬ìš©í•´ì„œ ì–‘ë°©í–¥ì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
  - **ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥ì„ ì‚¬ìš©**í•˜ì!

<br>

## ì¼ëŒ€ì¼ [1:1]

- ì¼ëŒ€ì¼ ê´€ê³„ëŠ” ê·¸ ë°˜ëŒ€ë„ ì¼ëŒ€ì¼
- ì£¼ í…Œì´ë¸”ì´ë‚˜ ëŒ€ìƒ í…Œì´ë¸” ì¤‘ì— ì™¸ë˜ í‚¤ ì„ íƒ ê°€ëŠ¥
  - ì£¼ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤
  - ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤
- ì™¸ë˜ í‚¤ì— ë°ì´í„°ë² ì´ìŠ¤ ìœ ë‹ˆí¬(UNI) ì œì•½ì¡°ê±´ ì¶”ê°€

> ì£¼ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ ë‹¨ë°©í–¥

<img src="https://github.com/iieunji023/jpa-with-spring-boot-basic/blob/main/images/ì¼ëŒ€ì¼1.png" width="350">

- ì˜ˆì œ

<details>
      <summary>Locker ì—”í‹°í‹° ì¶”ê°€</summary>

```
@Entity
public class Locker {
    @Id @GeneratedValue
    private Long id;

    private String name;
}

```

</details>

<details>
      <summary>Member.java</summary>

```
@OneToOne
@JoinColumn(name="LOCKER_ID")
private Locker locker;

```

- Member ì—”í‹°í‹°ì— Locker ê°ì²´ í•„ë“œ ì¶”ê°€
- í…Œì´ë¸” ìƒì„±
  ```
  Hibernate: 
    create table Locker (
        id bigint not null,
        name varchar(255),
        primary key (id)
    )
  Hibernate:
    create table Member (
        LOCKER_ID bigint unique,
         MEMBER_ID bigint not null,
         TEAM_ID bigint,
         USERNAME varchar(255),
         primary key (MEMBER_ID)
    )
  Hibernate:
    create table Team (
         TEAM_ID bigint not null,
         name varchar(255),
         primary key (TEAM_ID)
    )
  Hibernate:
    alter table if exists Member
         add constraint FK332130jlg9s5hyeuk7gfgi052
         foreign key (LOCKER_ID)
         references Locker
  ```

</details>

- ì •ë¦¬
  - ë‹¤ëŒ€ì¼(`@ManyToOne`) ë‹¨ë°©í–¥ ë§¤í•‘ê³¼ ìœ ì‚¬

> ì£¼ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ ì–‘ë°©í–¥

<img src="https://github.com/iieunji023/jpa-with-spring-boot-basic/blob/main/images/ì¼ëŒ€ì¼2.png" width="350">

- ì˜ˆì œ

<details>
      <summary>Locker ì—”í‹°í‹°ì— Member ê°ì²´ í•„ë“œ ì¶”ê°€</summary>

```
@OneToOne(mappedBy = "locker")
private Member member;

```

- mappedByë¥¼ í†µí•´ Member ì—”í‹°í‹°ì˜ locker í•„ë“œì™€ ì—°ê²°
- ì½ê¸° ì „ìš©ìœ¼ë¡œ ë§Œë“¤ì–´ì¤Œ

</details>

- ì •ë¦¬
  - ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥ ë§¤í•‘ì²˜ëŸ¼ ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ê³³ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸
  - ë°˜ëŒ€í¸ì€ mappedBy ì ìš©

> ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ ë‹¨ë°©í–¥

- ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ê³¼ ë¹„ìŠ·

<img src="https://github.com/iieunji023/jpa-with-spring-boot-basic/blob/main/images/ì¼ëŒ€ì¼3.png" width="350">

- ì™¸ë˜ í‚¤ê°€ ìˆëŠ” Locker ì—”í‹°í‹°ê°€ ì•„ë‹Œ Member ì—”í‹°í‹°ì—ì„œ ì—°ê´€ê´€ê³„ë¥¼ ë§¤í•‘í•˜ë ¤ê³  í•˜ëŠ” ê²ƒ
- ì •ë¦¬
  - ë‹¨ë°©í–¥ ê´€ê³„ëŠ” JPA ì§€ì› X
  - ì–‘ë°©í–¥ ê´€ê³„ëŠ” ì§€ì› O

> ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ ì–‘ë°©í–¥

<img src="https://github.com/iieunji023/jpa-with-spring-boot-basic/blob/main/images/ì¼ëŒ€ì¼4.png" width="350">

- ì¼ëŒ€ì¼ ì£¼ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ ì–‘ë°©í–¥ê³¼ ë§¤í•‘ ë°©ë²•ì€ ê°™ë‹¤

> ì •ë¦¬

- **ì£¼ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤**
  - ì£¼ ê°ì²´ê°€ ëŒ€ìƒ ê°ì²´ì˜ ì°¸ì¡°ë¥¼ ê°€ì§€ëŠ” ê²ƒì²˜ëŸ¼ ì£¼ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ë¥¼ ë‘ê³  ëŒ€ìƒ í…Œì´ë¸”ì„ ì°¾ìŒ
  - ê°ì²´ì§€í–¥ ê°œë°œì ì„ í˜¸
  - JPA ë§¤í•‘ í¸ë¦¬
  - ì¥ì : ì£¼ í…Œì´ë¸”ë§Œ ì¡°íšŒí•´ë„ ëŒ€ìƒ í…Œì´ë¸”ì— ë°ì´í„°ê°€ ìˆëŠ”ì§€ í™•ì¸ ê°€ëŠ¥
  - ë‹¨ì : ê°’ì´ ì—†ìœ¼ë©´ ì™¸ë˜ í‚¤ì— null í—ˆìš©
- **ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤**
  - ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ê°€ ì¡´ì¬
  - ì „í†µì ì¸ ë°ì´í„°ë² ì´ìŠ¤ ê°œë°œì ì„ í˜¸
  - ì¥ì : ì£¼ í…Œì´ë¸”ê³¼ ëŒ€ìƒ í…Œì´ë¸”ì„ ì¼ëŒ€ì¼ì—ì„œ ì¼ëŒ€ë‹¤ ê´€ê³„ë¡œ ë³€ê²½í•  ë•Œ í…Œì´ë¸” êµ¬ì¡° ìœ ì§€
  - ë‹¨ì : í”„ë¡ì‹œ ê¸°ëŠ¥ì˜ í•œê³„ë¡œ **ì§€ì—° ë¡œë”©ìœ¼ë¡œ ì„¤ì •í•´ë„ í•­ìƒ ì¦‰ì‹œ ë¡œë”©ë¨**

<br>

## ë‹¤ëŒ€ë‹¤ [N:M]

ğŸ’¡ ì‹¤ë¬´ì—ì„œ ì“°ë©´ ì•ˆë¨!!

- **ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤**ëŠ” ì •ê·œí™”ëœ í…Œì´ë¸” 2ê°œë¡œ **ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ í‘œí˜„í•  ìˆ˜ ì—†ìŒ**
- ì—°ê²° í…Œì´ë¸”ì„ ì¶”ê°€í•´ì„œ ì¼ëŒ€ë‹¤, ë‹¤ëŒ€ì¼ ê´€ê³„ë¡œ í’€ì–´ë‚´ì•¼ í•¨

<img src="https://github.com/iieunji023/jpa-with-spring-boot-basic/blob/main/images/ë‹¤ëŒ€ë‹¤1.png" width="350">

- ê°ì²´ëŠ” ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•´ì„œ ê°ì²´ 2ê°œë¡œ ë‹¤ëŒ€ë‹¤ ê´€ê³„ ê°€ëŠ¥

<img src="https://github.com/iieunji023/jpa-with-spring-boot-basic/blob/main/images/ë‹¤ëŒ€ë‹¤2.png" width="350">

- `@ManyToMany` ì‚¬ìš©
- `@JoinTable` ë¡œ ì—°ê²° í…Œì´ë¸” ì§€ì •
- ë‹¤ëŒ€ë‹¤ ë§¤í•‘: ë‹¨ë°©í–¥, ì–‘ë°©í–¥ ê°€ëŠ¥
- ì˜ˆì œ
<details>
      <summary>Product ì—”í‹°í‹° ìƒì„±</summary>

```
@Entity
public class Product {
    @Id @GeneratedValue
    private Long id;

    private String name;

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}

```

</details>
<details>
      <summary>Member.java</summary>

```
@ManyToMany
@JoinTable(name = "MEMBER_PRODUCT")
private List<Product> products = new ArrayList<>();

```

- Product ê°ì²´ í•„ë“œ ì¶”ê°€(ë‹¨ë°©í–¥ì´ë¼ ê°€ì •)

</details>
<details>
      <summary>Product.java</summary>

```
@ManyToMany(mappedBy = "products")
private List<Member> members = new ArrayList<>();

```

- Member ê°ì²´ í•„ë“œ ì¶”ê°€(ì–‘ë°©í–¥ì´ë¼ ê°€ì •)

</details>
<details>
      <summary>í…Œì´ë¸” ìƒì„±</summary>

```
Hibernate: 
    create table Locker (
        id bigint not null,
        name varchar(255),
        primary key (id)
    )
Hibernate: 
    create table Member (
        LOCKER_ID bigint unique,
        MEMBER_ID bigint not null,
        TEAM_ID bigint,
        USERNAME varchar(255),
        primary key (MEMBER_ID)
    )
Hibernate: 
    create table MEMBER_PRODUCT (
        Member_MEMBER_ID bigint not null,
        products_id bigint not null
    )
Hibernate: 
    create table Product (
        id bigint not null,
        name varchar(255),
        primary key (id)
    )
Hibernate: 
    create table Team (
        TEAM_ID bigint not null,
        name varchar(255),
        primary key (TEAM_ID)
    )
Hibernate: 
    alter table if exists Member 
       add constraint FK332130jlg9s5hyeuk7gfgi052 
       foreign key (LOCKER_ID) 
       references Locker
Hibernate: 
    alter table if exists Member 
       add constraint FKl7wsny760hjy6x19kqnduasbm 
       foreign key (TEAM_ID) 
       references Team
Hibernate: 
    alter table if exists MEMBER_PRODUCT 
       add constraint FKc6hsxwm11n18ahnh5yvbj62cf 
       foreign key (products_id) 
       references Product
Hibernate: 
    alter table if exists MEMBER_PRODUCT 
       add constraint FK4ibylolqmostllrjdc147aowv 
       foreign key (Member_MEMBER_ID) 
       references Member

```

- MEMBER_PRODUCT í…Œì´ë¸” ìƒì„± í™•ì¸
- ì œì•½ì¡°ê±´ ì¶”ê°€ëœ ê²ƒ í™•ì¸

</details>

### ë‹¤ëŒ€ë‹¤ ë§¤í•‘ì˜ í•œê³„

- í¸ë¦¬í•´ ë³´ì´ì§€ë§Œ  ì‹¤ë¬´ì—ì„œ ì‚¬ìš©X
- ì—°ê²° í…Œì´ë¸”ì´ ë‹¨ìˆœíˆ ì—°ê²°ë§Œ í•˜ê³  ëë‚˜ì§€ ì•ŠìŒ
- ì£¼ë¬¸ì‹œê°„, ìˆ˜ëŸ‰ ê°™ì€ ë°ì´í„°ê°€ ë“¤ì–´ì˜¬ ìˆ˜ ìˆìŒ

<img src="https://github.com/iieunji023/jpa-with-spring-boot-basic/blob/main/images/ë‹¤ëŒ€ë‹¤3.png" width="350">

### ë‹¤ëŒ€ë‹¤ í•œê³„ ê·¹ë³µ

<img src="https://github.com/iieunji023/jpa-with-spring-boot-basic/blob/main/images/ë‹¤ëŒ€ë‹¤4.png" width="350">

- ì—°ê²° í…Œì´ë¸”ìš© ì—”í‹°í‹° ì¶”ê°€(ì—°ê²° í…Œì´ë¸”ì„ ì—”í‹°í‹°ë¡œ ìŠ¹ê²©)
- `@ManyToMany` â†’ `@OneToMany`, `@ManyToOne`
- ì˜ˆì œ
<details>
      <summary>MemberProduct ì—”í‹°í‹° ìƒì„±</summary>

```
@Entity
public class MemberProduct {
    @Id @GeneratedValue
    private Long id;

    @ManyToOne
    @JoinColumn(name = "MEMBER_ID")
    private Member member;

    @ManyToOne
    @JoinColumn(name = "PRODUCT_ID")
    private Product product;

    private int count;
    private int price;

    private LocalDateTime orderDataTime;
    

}

```

- Member ì—”í‹°í‹°, Product ì—”í‹°í‹°ì™€ ë‹¤ëŒ€ì¼ ê´€ê³„

</details>
<details>
      <summary>Member ì—”í‹°í‹° í•„ë“œ ìˆ˜ì •</summary>

```
@OneToMany(mappedBy = "member")
private List<MemberProduct> memberProducts = new ArrayList<>();
```

- ManyToManyì—ì„œ OneToManyë¡œ ìˆ˜ì •
- Product â†’ MemberProduct ì—”í‹°í‹°ë¡œ ë³€ê²½

</details>
<details>
      <summary>Product ì—”í‹°í‹° í•„ë“œ ìˆ˜ì •</summary>

```
@OneToMany(mappedBy = "product")
private List<MemberProduct> memberProducts = new ArrayList<>();
```

- ManyToManyì—ì„œ OneToManyë¡œ ìˆ˜ì •
- Member â†’ MemberProduct ì—”í‹°í‹°ë¡œ ë³€ê²½

</details>

## [ì‹¤ì „ ì˜ˆì œ 3 - ë‹¤ì–‘í•œ ì—°ê´€ê´€ê³„ ë§¤í•‘](https://github.com/iieunji023/jpa-ex01/blob/main/ex03.md)